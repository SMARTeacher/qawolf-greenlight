import { error as coreError, info, warning } from "@actions/core";

import { stringifyUnknown } from "./string";

export interface LogDriver {
  error(message: string, error?: unknown): void;
  info(message: string): void;
  warn(message: string): void;
}

export const coreLogDriver: LogDriver = {
  error(message, error) {
    coreError(message + (error ? `\n${stringifyUnknown(error)}` : ""));
  },
  info,
  warn: warning,
};

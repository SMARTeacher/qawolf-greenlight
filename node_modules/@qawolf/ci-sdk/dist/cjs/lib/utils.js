"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildFetchWithTimeout = void 0;
exports.sleep = sleep;
exports.pluralize = pluralize;
exports.assertType = assertType;
exports.getBackoffMs = getBackoffMs;
function sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
}
function pluralize(count) {
    return count === 1 ? "" : "s";
}
/**
 * Statically verify that provided value is assignable to a desired type
 */
function assertType(_value) {
    // noop
}
function getBackoffMs(attemptNumber, minWaitMs = 1000, maxWaitMs = 10000) {
    return Math.min(maxWaitMs, minWaitMs * 1.2 ** attemptNumber);
}
const buildFetchWithTimeout = (fetch, timeout) => async (...args) => fetch(args[0], { ...args[1], signal: AbortSignal.timeout(timeout) });
exports.buildFetchWithTimeout = buildFetchWithTimeout;
//# sourceMappingURL=utils.js.map